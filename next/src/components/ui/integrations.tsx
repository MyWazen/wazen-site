'use client'

import { cn } from '@/lib/utils'
import { AnimatedBeam } from '@/components/ui/animated-beam'
import React, { forwardRef, useRef } from 'react'

const Circle = forwardRef<
	HTMLDivElement,
	{ className?: string; children?: React.ReactNode }
>(({ className, children }, ref) => {
	return (
		<div
			id="parentDiv"
			ref={ref}
			className={cn(
				'z-[1] flex h-16 w-16 items-center justify-center rounded-full bg-cyan-950/40 p-3 backdrop-blur hover:bg-cyan-950/60',
				className,
			)}
		>
			{children}
		</div>
	)
})

export function AnimatedBeamDemo() {
	const containerRef = useRef<HTMLDivElement>(null)
	const div1Ref = useRef<HTMLDivElement>(null)
	const div2Ref = useRef<HTMLDivElement>(null)
	const div3Ref = useRef<HTMLDivElement>(null)
	const div4Ref = useRef<HTMLDivElement>(null)
	const div5Ref = useRef<HTMLDivElement>(null)
	const div6Ref = useRef<HTMLDivElement>(null)
	const div7Ref = useRef<HTMLDivElement>(null)

	return (
		<div
			id="childDiv"
			className="bg-background fluid-padding relative flex aspect-square w-full items-center justify-center overflow-hidden rounded-lg md:shadow-xl"
			ref={containerRef}
		>
			<div className="group flex h-full w-full flex-col items-stretch justify-between gap-10">
				<div className="flex flex-row items-center justify-around">
					<Circle ref={div1Ref}>
						<Icons.foodics />
					</Circle>
					<Circle ref={div5Ref}>
						<Icons.salla />
					</Circle>
				</div>
				<div className="flex flex-row items-center justify-between">
					<Circle ref={div2Ref}>
						<Icons.rasd />
					</Circle>
					<Circle
						ref={div4Ref}
						className="h-20 w-20 bg-teal-500 transition-all group-hover:bg-teal-400"
					>
						<Icons.wazen />
					</Circle>
					<Circle ref={div6Ref}>
						<Icons.rajhi />
					</Circle>
				</div>
				<div className="flex flex-row items-center justify-around">
					<Circle ref={div3Ref}>
						<Icons.woo />
					</Circle>
					<Circle ref={div7Ref}>
						<Icons.other />
					</Circle>
				</div>
			</div>

			<AnimatedBeam
				containerRef={containerRef}
				fromRef={div1Ref}
				toRef={div4Ref}
				curvature={-200}
				endYOffset={-10}
			/>
			<AnimatedBeam
				containerRef={containerRef}
				fromRef={div2Ref}
				toRef={div4Ref}
			/>
			<AnimatedBeam
				containerRef={containerRef}
				fromRef={div3Ref}
				toRef={div4Ref}
				curvature={200}
				endYOffset={10}
			/>
			<AnimatedBeam
				containerRef={containerRef}
				fromRef={div5Ref}
				toRef={div4Ref}
				curvature={-200}
				endYOffset={-10}
				reverse
			/>
			<AnimatedBeam
				containerRef={containerRef}
				fromRef={div6Ref}
				toRef={div4Ref}
				reverse
			/>
			<AnimatedBeam
				containerRef={containerRef}
				fromRef={div7Ref}
				toRef={div4Ref}
				curvature={200}
				endYOffset={10}
				reverse
			/>
		</div>
	)
}

const Icons = {
	foodics: () => (
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 30">
			<path
				fill="#fff"
				d="M9.269 22.037a2.134 2.134 0 0 0-.68-.444 2.243 2.243 0 0 0-.855-.161H6.548a2.264 2.264 0 0 0-.856.161 2.025 2.025 0 0 0-1.135 1.132c-.11.274-.167.566-.165.86v.922c-.003.296.053.59.165.862.105.256.259.489.452.686.195.193.427.345.683.445.272.105.561.16.853.159h1.186c.292 0 .582-.053.854-.16a2.09 2.09 0 0 0 .684-.444 2.158 2.158 0 0 0 .613-1.547v-.922a2.236 2.236 0 0 0-.162-.857 2.045 2.045 0 0 0-.451-.688M9.73 10.124a1.495 1.495 0 0 1 1.497-1.495h14.381V3.341H11.351a6.905 6.905 0 0 0-6.903 6.908v2.293a6.906 6.906 0 0 0 6.903 6.91h7.515v-5.287h-7.64a1.496 1.496 0 0 1-1.496-1.497v-2.544Z"
			/>
		</svg>
	),
	wazen: () => (
		<svg
			xmlns="http://www.w3.org/2000/svg"
			width="100"
			height="100"
			fill="none"
			viewBox="0 0 44 24"
		>
			<path
				fill="#ffffff"
				d="M.733 6.31C.75 2.543 3.673-.229 7.233.013c1.626.113 3.032.801 4.07 2.064 2.201 2.673 4.353 5.383 6.517 8.085 2.539 3.169 5.07 6.346 7.613 9.51.864 1.077 2.16 1.435 3.336.968 1.213-.483 1.956-1.622 1.88-2.93a2.826 2.826 0 0 0-.637-1.644c-3.044-3.802-6.096-7.6-9.107-11.428-.796-1.018-1.722-1.597-3.027-1.414-.308.042-.613.18-.896.317-.276.13-.471.125-.672-.138a47.283 47.283 0 0 0-1.405-1.76c-.225-.266-.196-.425.088-.62C17.499-.7 21.063-.192 22.99 2.197a487.695 487.695 0 0 1 4.462 5.613c.275.354.425.316.68-.009a565.962 565.962 0 0 1 4.444-5.574c2.552-3.14 7.355-2.928 9.636.425 1.55 2.28 1.417 5.274-.567 7.693-3.048 3.719-6.03 7.492-9.007 11.27-2.43 3.085-6.988 3.198-9.523.196a22.504 22.504 0 0 1-1.009-1.255c-.217-.3-.33-.3-.496.037-.838 1.664-2.14 2.798-3.965 3.22-2.548.583-4.654-.2-6.284-2.231-2.618-3.261-5.233-6.526-7.822-9.807-.784-.993-1.543-2.014-2.21-3.09C.862 7.927.725 7.023.737 6.31H.733Zm6.083-3.128c-1.15.021-2.047.513-2.58 1.535-.655 1.259-.388 2.41.483 3.485 1.743 2.156 3.47 4.324 5.2 6.492 1.346 1.69 2.685 3.382 4.036 5.066.796.993 2.222 1.343 3.369.847 1.184-.513 1.922-1.843 1.755-3.098-.113-.859-.638-1.476-1.138-2.11-2.906-3.652-5.825-7.3-8.74-10.95-.608-.762-1.355-1.283-2.385-1.27v.003Zm26.669 12.275c.079-.087.192-.208.292-.337 1.818-2.273 3.627-4.553 5.453-6.817.814-1.005 1.176-2.085.672-3.324-.847-2.089-3.52-2.43-4.995-.642-.626.755-1.222 1.535-1.83 2.302-.993 1.242-1.981 2.493-2.986 3.723-.23.28-.238.496 0 .76.217.237.413.491.609.745.917 1.18 1.83 2.365 2.777 3.59h.008Z"
			/>
		</svg>
	),
	salla: () => (
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 30">
			<path
				fill="#fff"
				d="M29.185 20.014 27.799 8.458A6.199 6.199 0 0 0 21.648 3H8.409a6.199 6.199 0 0 0-6.15 5.458L.872 20.014a6.195 6.195 0 0 0 6.151 6.933h16.01a6.2 6.2 0 0 0 4.634-2.084 6.2 6.2 0 0 0 1.517-4.85Zm-3.797 2.84a3.227 3.227 0 0 1-2.444 1.099H7.114c-.948 0-1.816-.39-2.445-1.099a3.225 3.225 0 0 1-.8-2.557L5.24 8.87a3.268 3.268 0 0 1 3.243-2.877h13.092a3.269 3.269 0 0 1 3.243 2.877l1.37 11.426a3.235 3.235 0 0 1-.8 2.557Z"
			/>
			<path
				fill="#fff"
				d="M22.982 16.466a1.482 1.482 0 0 0-.944-.646 1.486 1.486 0 0 0-1.123.21c-3.987 2.599-7.865 2.599-11.859 0a1.482 1.482 0 0 0-1.123-.21c-.39.082-.725.311-.942.646a1.483 1.483 0 0 0-.21 1.123c.083.391.312.726.646.942 2.496 1.626 5.04 2.448 7.562 2.448 2.522 0 5.065-.824 7.557-2.449.334-.218.564-.553.646-.944.082-.39.007-.788-.21-1.123v.003Z"
			/>
		</svg>
	),
	rajhi: () => (
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 30">
			<path
				fill="#fff"
				d="m25.262 15.047-3.776-2.196V8.486a3.47 3.47 0 0 0-1.738-3.01l-3-1.728a3.48 3.48 0 0 0-3.468 0l-3.009 1.738a3.486 3.486 0 0 0-1.738 3v4.374l-3.795 2.187a3.486 3.486 0 0 0-1.738 3v3.467c0 1.243.664 2.383 1.738 3l3 1.738a3.48 3.48 0 0 0 3.468 0l3.785-2.186 3.785 2.186a3.48 3.48 0 0 0 3.467 0l3.019-1.729a3.486 3.486 0 0 0 1.738-3v-3.467a3.47 3.47 0 0 0-1.738-3.01ZM10.43 8.495c0-.56.299-1.084.785-1.364l3.01-1.738a1.588 1.588 0 0 1 1.579 0l3.01 1.738c.485.28.784.804.784 1.364v3.28L17 10.28a3.986 3.986 0 0 0-3.981 0l-2.59 1.496v-3.28Zm-.159 16.122c-.486.28-1.093.28-1.58 0l-3-1.738a1.586 1.586 0 0 1-.794-1.365v-3.467c0-.56.3-1.084.785-1.365l2.85-1.644v3.009c0 1.42.758 2.738 1.982 3.458l2.58 1.486-2.823 1.626Zm4.738-2.72-3.532-2.037a2.1 2.1 0 0 1-1.047-1.813v-4.094l3.533-2.037a2.094 2.094 0 0 1 2.093 0l3.533 2.037v4.085a2.1 2.1 0 0 1-1.047 1.813l-3.533 2.046Zm10.113-.383c0 .56-.3 1.084-.795 1.365l-3.01 1.738c-.485.28-1.093.28-1.579 0l-2.831-1.636 2.588-1.476a3.98 3.98 0 0 0 1.991-3.449v-3.019l2.85 1.645c.486.28.795.804.795 1.365l-.01 3.467Z"
			/>
		</svg>
	),
	rasd: () => (
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 44 30">
			<g fill="#fff" clipPath="url(#a)">
				<path d="M43.008 14.428c-.105-3.144-1.39-5.827-3.667-8.005-2.285-2.189-5.041-3.279-8.2-3.321-2.798-.037-5.595-.037-8.394-.054v.028c-3.014-.02-6.033-.141-9.044-.03-4.516.166-7.85 2.377-10.08 6.278-.292.506-.162 1.025.279 1.265.458.246.924.071 1.217-.446 2.05-3.598 5.16-5.437 9.293-5.443 5.494-.005 10.987.057 16.478.096.706.006 1.407.062 2.105.187 5.77 1.025 9.552 7.01 8.007 12.685-1.26 4.612-5.321 7.663-10.182 7.637-5.494-.028-10.985-.065-16.479-.104a11.358 11.358 0 0 1-1.61-.108c-4.332-.635-7.668-3.767-8.612-8.055-.05-.232-.014-.362.184-.509a2.058 2.058 0 0 0 .69-2.406c-.34-.862-1.181-1.376-2.142-1.302-.867.065-1.652.765-1.824 1.627A2.064 2.064 0 0 0 2.1 16.713c.19.099.268.206.31.418 1.12 5.754 5.932 9.73 11.807 9.767 5.584.034 11.165.07 16.75.102 2.036.011 3.982-.41 5.753-1.424 4.299-2.46 6.449-6.191 6.288-11.148ZM3.042 15.823c-.494-.005-.929-.44-.937-.938-.009-.497.46-.957.968-.948a.959.959 0 0 1 .93.94.953.953 0 0 1-.96.946Z" />
				<path d="m19.875 17.543-9.66-.059c-.67-.003-1.048-.33-1.048-.9 0-.583.398-.936 1.073-.933 1.412.006 2.822.006 4.234.031.33.006.41-.093.396-.407-.02-.384-.049-.768-.147-1.14-.266-1.032-.955-1.574-2.023-1.6-.333-.008-.666 0-1-.008-.582-.02-.98-.404-.96-.923.017-.512.404-.853.989-.848.692.006 1.39-.045 2.073.073 1.573.274 2.491 1.22 2.774 2.825.098.568.158 1.144.132 1.72-.008.212.02.32.28.32 1.025-.01 2.053 0 3.079.016.22.003.288-.059.28-.277-.015-.333.005-.666 0-1-.004-.175.025-.273.236-.299a18.47 18.47 0 0 0 1.365-.22c.192-.037.248.006.243.2-.014.45 0 .899-.017 1.348-.006.197.05.262.257.262 2.079.006 4.157.026 6.236.031.503 0 .845-.338.853-.844.014-.652.02-1.308.009-1.963-.003-.215.073-.288.268-.316.458-.065.912-.13 1.364-.22.195-.04.212.03.212.188-.011 1.142.006 2.283-.03 3.424-.03.881-.823 1.579-1.727 1.573-3.245-.017-6.49-.04-9.739-.06l-.002.006ZM36.045 13.957c-.068 1.225-.085 2.457-.39 3.657-.302 1.186-1.099 2-2.053 2.686-.334.24-.856.119-1.113-.195a.896.896 0 0 1 .048-1.16c.121-.13.257-.249.39-.37 1.022-.941 1.2-2.192 1.257-3.475.04-.934.025-1.87.036-2.804.009-.608.379-1.012.921-1.006.545.003.912.407.912 1.017 0 .55-.005 1.101-.008 1.652v-.002Z" />
				<path d="M31.164 11.897c-1.008.153-2.02.308-3.028.458-.248.09-6.468 1.065-7.16 1.186-.624.11-.627.093-.624-.545.006-.72.006-1.438.014-2.155.009-.565.39-.946.94-.946.509 0 .862.361.896.91v.075c.007.36.182.531.522.515.147-.085 4.969-.808 5.107-.811.622-.141 1.252-.265 1.89-.285.754-.023 1.471.607 1.613 1.338.034.173-.009.238-.17.263v-.003Z" />
			</g>
			<defs>
				<clipPath id="a">
					<path fill="#fff" d="M.984 3h42.032v24H.984z" />
				</clipPath>
			</defs>
		</svg>
	),
	woo: () => (
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 42 30">
			<g clipPath="url(#a)">
				<path
					fill="#083344"
					fillOpacity=".2"
					d="M4.648 3h32.687a3.742 3.742 0 0 1 3.744 3.743V19.22a3.742 3.742 0 0 1-3.744 3.744H25.613l1.61 3.94-7.076-3.94H4.665A3.742 3.742 0 0 1 .922 19.22V6.743C.905 4.691 2.58 3 4.648 3Z"
				/>
				<path
					fill="#fff"
					d="M3.208 6.412c.229-.31.572-.474 1.029-.506.832-.066 1.306.326 1.42 1.175.506 3.412 1.061 6.301 1.649 8.668l3.575-6.807c.326-.62.734-.947 1.224-.98.718-.048 1.159.409 1.338 1.372.409 2.17.93 4.016 1.551 5.582.425-4.146 1.143-7.133 2.155-8.978.245-.457.604-.685 1.078-.718.375-.033.718.082 1.028.327.31.244.473.555.506.93.016.294-.033.539-.163.784-.637 1.175-1.16 3.15-1.584 5.892-.408 2.661-.555 4.734-.457 6.22.033.408-.032.767-.196 1.077-.196.36-.49.555-.865.588-.424.032-.865-.163-1.29-.604-1.518-1.55-2.726-3.869-3.607-6.954a305.795 305.795 0 0 0-2.35 4.701c-.964 1.845-1.78 2.792-2.465 2.84-.441.033-.817-.342-1.143-1.126-.833-2.138-1.73-6.268-2.694-12.39-.065-.424.033-.8.262-1.093ZM38.29 8.975c-.587-1.029-1.453-1.65-2.612-1.894a4.286 4.286 0 0 0-.881-.098c-1.567 0-2.84.816-3.836 2.449-.85 1.387-1.274 2.922-1.274 4.603 0 1.257.262 2.334.784 3.232.588 1.028 1.453 1.649 2.612 1.894.31.065.604.098.881.098 1.584 0 2.857-.817 3.836-2.449.85-1.404 1.274-2.938 1.274-4.62.016-1.273-.261-2.334-.784-3.215Zm-2.057 4.521c-.228 1.078-.636 1.877-1.24 2.416-.474.425-.914.604-1.322.523-.392-.082-.719-.425-.964-1.061a4.143 4.143 0 0 1-.294-1.486c0-.408.033-.816.115-1.192.147-.669.424-1.322.865-1.942.539-.8 1.11-1.127 1.698-1.012.391.081.718.424.963 1.06.196.507.294 1.013.294 1.486 0 .425-.033.833-.115 1.208ZM28.07 8.975c-.587-1.029-1.469-1.65-2.611-1.894a4.285 4.285 0 0 0-.882-.098c-1.567 0-2.84.816-3.836 2.449-.849 1.387-1.273 2.922-1.273 4.603 0 1.257.26 2.334.783 3.232.588 1.028 1.453 1.649 2.612 1.894.31.065.604.098.881.098 1.584 0 2.857-.817 3.837-2.449.848-1.404 1.273-2.938 1.273-4.62 0-1.273-.261-2.334-.784-3.215Zm-2.073 4.521c-.228 1.078-.636 1.877-1.24 2.416-.474.425-.915.604-1.323.523-.391-.082-.718-.425-.963-1.061a4.143 4.143 0 0 1-.294-1.486c0-.408.033-.816.115-1.192.147-.669.424-1.322.865-1.942.538-.8 1.11-1.127 1.698-1.012.391.081.718.424.963 1.06.196.507.293 1.013.293 1.486.017.425-.032.833-.114 1.208Z"
				/>
			</g>
			<defs>
				<clipPath id="a">
					<path fill="#fff" d="M.922 3h40.157v24H.922z" />
				</clipPath>
			</defs>
		</svg>
	),
	other: () => (
		<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 45 19">
			<path
				fill="#fff"
				d="M1.25 18.03a.566.566 0 0 1-.416-.17.566.566 0 0 1-.171-.416v-1.247c0-.147.032-.318.097-.513.082-.212.253-.424.514-.636l3.863-3.839A53.41 53.41 0 0 0 7.73 9.057c.668-.603 1.15-1.149 1.443-1.638.31-.505.464-1.002.464-1.491 0-.734-.204-1.329-.611-1.785-.391-.457-1.019-.685-1.883-.685-.57 0-1.051.122-1.442.367a2.54 2.54 0 0 0-.93.929 4.198 4.198 0 0 0-.44 1.296c-.032.212-.122.358-.269.44a.9.9 0 0 1-.44.122H1.445a.498.498 0 0 1-.367-.146.47.47 0 0 1-.146-.343c.016-.7.163-1.377.44-2.03a5.2 5.2 0 0 1 1.198-1.76 6.005 6.005 0 0 1 1.956-1.247c.766-.31 1.63-.464 2.592-.464 1.353 0 2.47.228 3.35.684.896.457 1.564 1.076 2.005 1.859.456.782.684 1.662.684 2.64 0 .766-.147 1.476-.44 2.128-.293.635-.717 1.255-1.272 1.858a18.861 18.861 0 0 1-2.004 1.81l-3.472 3.52h6.968c.18 0 .318.057.416.171a.517.517 0 0 1 .17.416v1.736a.566.566 0 0 1-.17.416.518.518 0 0 1-.416.17H1.25Zm21.47.245c-1.156 0-2.143-.17-2.958-.513-.815-.343-1.483-.815-2.005-1.418a6.083 6.083 0 0 1-1.173-2.079 9.893 9.893 0 0 1-.465-2.543c-.016-.44-.032-.92-.049-1.442V8.666c.017-.538.033-1.035.05-1.491a8.417 8.417 0 0 1 .464-2.519 6.096 6.096 0 0 1 1.198-2.078c.538-.587 1.214-1.052 2.03-1.394.814-.342 1.784-.513 2.909-.513 1.14 0 2.119.17 2.934.513.815.342 1.483.807 2.005 1.394a5.61 5.61 0 0 1 1.198 2.078c.277.783.432 1.622.465 2.519.032.456.048.953.048 1.491v1.614c0 .522-.016 1.002-.048 1.442a9.233 9.233 0 0 1-.44 2.543 6.082 6.082 0 0 1-1.174 2.079c-.522.603-1.198 1.075-2.03 1.418-.815.342-1.8.513-2.958.513Zm0-2.812c1.06 0 1.835-.342 2.324-1.026.505-.701.766-1.647.782-2.837.033-.473.049-.945.049-1.418V8.715c0-.489-.016-.954-.049-1.394-.016-1.157-.277-2.086-.782-2.787-.49-.717-1.264-1.076-2.323-1.076-1.043 0-1.818.359-2.323 1.076-.49.7-.75 1.63-.782 2.787 0 .44-.009.905-.025 1.394v1.467c.016.473.024.945.024 1.418.033 1.19.302 2.136.807 2.837.506.684 1.272 1.026 2.299 1.026Zm14.848 1.76a.566.566 0 0 1-.416-.17.566.566 0 0 1-.17-.416V11.87h-4.695a.566.566 0 0 1-.416-.171.596.596 0 0 1-.171-.44V9.986c0-.179.057-.317.171-.415a.566.566 0 0 1 .416-.171h4.694V4.754c0-.163.057-.302.171-.416a.566.566 0 0 1 .416-.17h1.418c.18 0 .318.056.416.17a.566.566 0 0 1 .171.416V9.4h4.694c.163 0 .302.057.416.17a.518.518 0 0 1 .171.416v1.272c0 .18-.057.326-.17.44a.566.566 0 0 1-.416.171h-4.695v4.768a.566.566 0 0 1-.171.416.518.518 0 0 1-.416.17h-1.418Z"
			/>
		</svg>
	),
}
