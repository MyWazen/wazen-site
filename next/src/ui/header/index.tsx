import { getSite } from '@/lib/sanity/queries'
import Wrapper from './Wrapper'
import Link from 'next/link'
import Navigation from './Navigation'
import CTAList from '@/ui/CTAList'
import Toggle from './Toggle'
import { cn } from '@/lib/utils'
import css from './Header.module.css'
import LangSelect from '@/components/lang-select'

export default async function Header({ locale }: any) {
	const {
		ctas,
		logo = {
			icon: '<svg width="1312" height="369" viewBox="0 0 1312 369" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clipPath="url(#clip0_1923_8972)"> <path d="M658.371 97.0148C658.627 39.1516 703.548 -3.46089 758.274 0.255688C783.265 1.98582 804.861 12.5588 820.817 31.9747C854.652 73.0493 887.718 114.701 920.976 156.224C960.001 204.924 998.899 253.752 1037.99 302.388C1051.25 318.92 1071.18 324.431 1089.25 317.254C1107.9 309.821 1119.31 292.327 1118.15 272.207C1117.58 262.851 1114.37 254.393 1108.35 246.959C1061.57 188.519 1014.66 130.144 968.396 71.3192C956.156 55.6839 941.931 46.777 921.873 49.5964C917.131 50.2372 912.453 52.3518 908.096 54.4664C903.866 56.4529 900.854 56.3888 897.779 52.3518C890.794 43.1885 883.617 34.1534 876.183 25.3105C872.723 21.2095 873.171 18.7745 877.529 15.7628C916.042 -10.7018 970.831 -2.88418 1000.44 33.833C1023.51 62.4122 1046.32 91.1196 1069 120.083C1073.23 125.53 1075.54 124.953 1079.45 119.955C1102.07 91.3118 1124.75 62.6685 1147.76 34.2816C1186.98 -13.9698 1260.8 -10.7018 1295.85 40.8176C1319.69 75.8688 1317.64 121.877 1287.14 159.043C1240.29 216.202 1194.47 274.193 1148.72 332.248C1111.36 379.667 1041.32 381.397 1002.36 335.26C997.04 328.98 991.722 322.637 986.851 315.972C983.519 311.359 981.789 311.359 979.226 316.549C966.345 342.117 946.352 359.546 918.285 366.018C879.131 374.989 846.77 362.942 821.714 331.736C781.471 281.626 741.292 231.452 701.498 181.022C689.45 165.771 677.787 150.072 667.534 133.54C660.357 121.877 658.243 107.972 658.435 97.0148H658.371ZM751.865 48.9556C734.179 49.276 720.402 56.8373 712.199 72.5367C702.138 91.8885 706.24 109.574 719.633 126.107C746.419 159.235 772.948 192.556 799.542 225.877C820.24 251.829 840.81 277.845 861.573 303.733C873.812 318.984 895.728 324.367 913.35 316.741C931.549 308.86 942.892 288.418 940.328 269.131C938.598 255.93 930.524 246.447 922.834 236.707C878.17 180.574 833.313 124.505 788.52 68.4356C779.164 56.7092 767.694 48.6993 751.865 48.8916V48.9556ZM1161.73 237.604C1162.95 236.258 1164.68 234.4 1166.21 232.414C1194.15 197.491 1221.97 162.439 1250.03 127.645C1262.53 112.202 1268.1 95.6051 1260.35 76.5736C1247.34 44.4701 1206.27 39.2157 1183.58 66.7055C1173.97 78.3038 1164.81 90.2865 1155.45 102.077C1140.2 121.173 1125.01 140.396 1109.57 159.3C1106.04 163.593 1105.91 166.925 1109.57 170.962C1112.9 174.614 1115.91 178.523 1118.92 182.432C1133.02 200.566 1147.05 218.765 1161.6 237.604H1161.73Z" fill="#ef4444"/> <path d="M63.2486 283.87C73.5657 296.237 88.5607 302.389 108.17 302.389C127.778 302.389 142.517 296.301 152.322 284.062C162.126 271.823 167.06 255.163 167.06 234.017V142.576C167.06 139.052 169.944 136.168 173.468 136.168H208.457C211.981 136.168 214.865 139.052 214.865 142.576V237.861C214.865 270.99 205.958 297.967 188.079 318.921C170.264 339.811 143.35 350.256 107.465 350.256C71.5792 350.256 44.3446 339.939 26.6582 319.306C8.97175 298.672 0.0644531 271.759 0.0644531 238.694V142.64C0.0644531 139.116 2.94811 136.232 6.47258 136.232H41.461C44.9854 136.232 47.8691 139.116 47.8691 142.64V234.081C47.8691 254.97 53.0597 271.631 63.3768 283.934L63.2486 283.87ZM89.7141 57.7997H125.407C128.932 57.7997 131.816 60.6833 131.816 64.2076V99.5151C131.816 103.039 128.932 105.923 125.407 105.923H89.7141C86.1897 105.923 83.306 103.039 83.306 99.5151V64.2076C83.306 60.6833 86.1897 57.7997 89.7141 57.7997Z" fill="#083344"/> <path d="M307.014 136.167C310.538 136.167 313.422 139.051 313.422 142.575V248.177C313.422 281.818 306.309 307.642 292.019 325.777C278.69 342.629 258.504 355.445 231.462 364.096C228.194 365.121 224.605 363.327 223.516 360.059L212.11 326.866C210.892 323.406 212.943 319.689 216.467 318.6C233.897 313.345 246.201 306.168 253.506 297.133C261.644 286.945 265.746 269.772 265.746 245.55V142.639C265.746 139.115 268.629 136.231 272.154 136.231H307.142L307.014 136.167ZM272.026 54.7869H307.719C311.243 54.7869 314.127 57.6704 314.127 61.1947V96.5663C314.127 100.091 311.243 102.974 307.719 102.974H272.026C268.501 102.974 265.617 100.091 265.617 96.5663V61.1947C265.617 57.6704 268.501 54.7869 272.026 54.7869Z" fill="#083344"/> <path d="M357.382 269.258V9.93096C357.382 6.40662 360.265 3.52307 363.79 3.52307H398.778C402.303 3.52307 405.186 6.40662 405.186 9.93096V269.258C405.186 272.783 402.303 275.666 398.778 275.666H363.79C360.265 275.666 357.382 272.783 357.382 269.258Z" fill="#083344"/> <path d="M529.76 107.139C582.499 107.139 608.901 142.446 608.901 212.997C608.901 261.889 597.238 298.478 573.912 322.7C550.587 346.922 516.688 360.122 469.396 365.249C465.999 365.633 462.859 363.198 462.347 359.866L457.028 326.417C456.451 322.892 458.95 319.624 462.475 319.112C488.812 315.075 508.934 309.18 522.711 301.49C537.642 293.224 547.767 280.536 553.086 263.491C544.179 269.13 533.092 271.886 519.828 271.886C497.656 271.886 479.905 265.093 466.512 251.444C453.119 237.796 446.455 218.252 446.455 192.748C446.455 165.963 453.824 145.009 468.627 129.887C483.429 114.7 503.807 107.139 529.76 107.139ZM527.838 230.939C538.027 230.939 546.037 227.799 551.932 221.584C557.764 215.368 560.711 206.205 560.711 194.286C560.711 182.367 557.7 172.82 551.74 165.835C545.781 158.85 537.642 155.326 527.453 155.326C517.264 155.326 509.19 158.786 503.166 165.643C497.207 172.499 494.195 181.855 494.195 193.517C494.195 205.179 497.079 214.086 502.782 220.815C508.485 227.543 516.88 230.939 527.838 230.939Z" fill="#083344"/> </g> <defs> <clipPath id="clip0_1923_8972"> <rect width="1312" height="368.838" fill="white"/> </clipPath> </defs> </svg>',
		},
	} = await getSite(locale)

	return (
		<Wrapper className="fixed top-0 z-10 w-full bg-white backdrop-blur">
			<div className={cn(css.header, 'section mx-auto grid h-14')}>
				<div className="flex flex-col items-start gap-x-10 [grid-area:logo] md:flex-row md:items-center">
					<Link className="font-bold" href="/">
						<div
							className="svg-container h-6 w-auto"
							dangerouslySetInnerHTML={{ __html: logo.icon }}
						/>
					</Link>
					<Navigation locale={locale} />
				</div>

				<div className="flex flex-col-reverse items-center justify-center gap-x-10 gap-y-3 text-center [grid-area:ctas] max-md:header-closed:hidden md:flex-row">
					<LangSelect locale={locale} />
					<CTAList className="max-md:*:w-full" ctas={ctas} />
				</div>

				<Toggle />
			</div>
		</Wrapper>
	)
}
